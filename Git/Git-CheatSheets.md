
# Шпаргалка git:

## Команды git
*Дополнить существующий коммит, выполняется после git add, но до git push:*
```
git commit --ammend --no-edit 
```
*Изменить сообщение коммита:*
```
git commit --ammend -m 'EJI'
```
*Разгитить:*
```
rm -rf .git
```
*Отменить изменения в файле из списка staging area (туда попадают после git add)*
```
git restore --staged <file>
git restore --staged #сброс всех файлов
```
*Отменить изменения в файле не из списка staging area*
```
git restore <file>
```

*Откатить репозиторий к более раннему состоянию:*
```
git reset --hard <commit hash>
git log --oneline #узнать хэш коммита
```
*Просмотр изменений:*
```
git diff A B# сравнение существующего файла в репозитории (A) и отредактированного (B) 
git diff B A# сравнение файла (В) и (А) 
git diff --staged # сравнение в staged area
```
*Синхронизация локального и удаленного репозиториев:*
```
git remote add origin https://github.com/YandexPracticum/first-project.git #привяжи локальный репозиторий к удаленному с URL ...
git remote -v # проверить, что репозитории связались
git push -u origin main # в первый раз загрузи все коммиты из локального репозитория в удаленный с названием origin
```
*Просмотр информации:*
```
git log 
git log --oneline # в одну строку

```
*Работа с ветками:*
```
git branch # посмотреть все существующие ветки
git branch <название_ветки> # создать новую ветку
git branch -D <название_ветки> # удаление ветки-донора после объединения (-d удалит вету только если она полностью объединена с другой)
git checkout <название ветки> # переключение между ветками
git checkout -b <название_ветки> # создать ветку и сразу переключиться на нее
git diff <название_ветки1> <название_ветки2> # сравнить ветки между собой
git merge <название_ветки> # выполнить слияние веток

```
_Ветка в Git — это указатель на коммит. Когда вы делаете новый коммит в ветке, этот указатель передвигается вперёд._

*Забрать изменение из удаленного репозитория:*
```
git pull
```
*Перебазирование коммита (решение проблемы с разошедшимися ветками:*
```
git rebase
git push --force #принудительный пуш (может удалить коммит в origin)

```

*Настройка гит:*
```
git config --global user.name
git config --global user.email

```
*Суффикс навигации ~N:*
```
Он отсчитывает от заданного коммита N коммитов назад во времени. 
Нумерация начинается с нуля: commit~0 — это сам коммит, 
commit~1 — предыдущий, commit~2 — предшествующий предыдущему и так далее.
```

Пример правильной работы с ветками:
```
$ git checkout main # перешли в main
$ git pull # подтянули новые изменения в main
$ git checkout my-branch # вернулись в рабочую ветку my-branch
$ git merge main # влили main в новую ветку my-branch
$ git push -u origin my-branch # отправили ветку my-branch в удалённый репозиторий 
```

_Все глобальные настройки Git хранит в файле .gitconfig в домашней директор_






## Игнорирование файлов:
файл .gitignore, в него нужно добавить строчки:
### 1. Звездочка (*)
Символ звездочки соответствует любой строке. Если такой символ используется в шаблоне, значит файл будет 
проигнорирован вне зависимости от того, что будет на месте звездочки
```    
*.jpeg # будет игнорить все файлы с этим расширением 
docs/*/emp # игнорировать все файлы tmp во всех подпапках папки docs
```
### 2. Вопросительный знак (?)
? - соответсвует одному любому символу
```
file?.txt
```
### 3. Квардатные скобки ([])
Квадратные скобки, как и вопросительный знак, соответствуют одному символу.
При этом символ не любой, а только из списка, который указан в скобках.
```
file[0-2].txt
```
### 4. Слэш (/)
Косая черта, или слеш (/), указывает на каталоги. 
Если шаблон в .gitignore начинается со слеша, то Git проигнорирует файлы или каталоги только в корневой директории.
```
/todo.txt # игнорировать todo.txt в корне репозитория
spam.txt # для сравнения: spam.txt будет игнорироваться во всех папках
build/ # игнорировать все файлы в каталоге build
```
### 5. Парные звездочки (**)
Функция парных звёздочек (**) похожа на функцию одинарной (*). Отличие в том, как они работают с вложенными папками. 
Двойная звёздочка может соответствовать любому количеству таких папок (в том числе нулю). 
Одинарная может соответствовать только одной.
### 6. Восклицательный знак (!)
Инвертирование правила
```
*.jpeg # игнорировать все JPEG-файлы
!doge.jpeg # но только не мем с Doge
```
### Отобразить игнорируемые файлы:
```
git status --ignored
```